{"version":3,"sources":["webpack:///webpack/bootstrap 129660a9d83532fd54cd","webpack:///./public/projects/escapethefate/src/index.js","webpack:///./src/Engine.js","webpack:///./src/Element.js","webpack:///./src/Class.js","webpack:///./src/Component/index.js","webpack:///./src/Scene/index.js","webpack:///./src/Entity/index.js","webpack:///./src/Component/Canvas.js","webpack:///./src/Component/Keyboard.js","webpack:///./public/projects/escapethefate/src/entities/EntityPlayer.js"],"names":["scene","entity","x","y","width","height","compose","attachScene","attachDOM","document","getElementById","run","attachEntity","window","setTimeout","Engine","options","name","storage","scenes","lastUpdate","fps","latence","tick","dom","stopped","map","update","context","render","forEach","nextCycle","changedProps","timeStart","performance","now","requestAnimationFrame","bind","Math","min","floor","Error","push","initialize","isComposedOf","canvas","setParentDOM","parentDOM","createElement","id","className","style","position","appendChild","Element","lifecycle","destroyed","components","length","component","props","decompose","destroy","beforeUpdate","callComponentFunction","onPropsChanged","key","previousProps","hasOwnProperty","requestRender","composedBy","componentName","index","pluggedFunctions","pluggedFunction","componentFunctions","filter","compName","splice","callback","exist","Boolean","find","functionName","Array","prototype","slice","call","Class","generateId","Object","assign","random","toString","substring","Component","functions","getOwnPropertyNames","getPrototypeOf","prop","addComponentFunction","Scene","entities","gravity","scale","camera","following","follow","Entity","debug","mass","MASS","NONE","direction","speed","velocity","gravityFactor","standing","falling","strokeStyle","strokeRect","sqrt","bottom","right","entBottom","entRight","colBottom","colTop","colLeft","colRight","SOLID","WEAK","Canvas","clearColor","getContext","ctx","clearRect","fillStyle","fillRect","Keyboard","input","_input","addEventListener","onKeydown","onKeyup","STATE","PRESSED","HOLD","RELEASED","e","keyCode","state","optionalState","KEY","getKeyState","keyboard","isHeld","ARROW_RIGHT","ARROW_LEFT","ARROW_UP","ARROW_DOWN"],"mappings":"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","file":"projects/escapethefate/sideral.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 129660a9d83532fd54cd","/*\nimport Engine from \"src/Engine\";\nimport Keyboard from \"src/Component/Keyboard\";\n\nimport SceneWorld from \"./scenes/SceneWorld\";\n\n\n// Define the size of the engine\nEngine.width(500);\nEngine.height(200);\n\n// Let's start the engine\nEngine.compose(new Keyboard())\n    .attachScene(new SceneWorld());\n\n// Render the engine into a dom\nEngine.attachDOM(document.getElementById(\"sideral-app\"));\n\n// Start the loop\nEngine.run();\n*/\n\nimport Engine from \"src/Engine\";\nimport Scene from \"src/Scene\";\nimport Keyboard from \"src/Component/Keyboard\";\n\nimport EntityPlayer from \"./entities/EntityPlayer\";\n\n\nconst scene = new Scene(),\n    entity  = EntityPlayer({ x: 10, y: 10 });\n\nEngine.width = 500;\nEngine.height = 200;\n\nEngine.compose(new Keyboard()).attachScene(scene);\n\nEngine.attachDOM(document.getElementById(\"sideral-app\"));\n\nEngine.run();\n\n\nscene.attachEntity(entity);\n\nwindow.setTimeout(() => { entity.x = 20; }, 2000);\n\n\n\n// WEBPACK FOOTER //\n// ./public/projects/escapethefate/src/index.js","import Element from \"./Element\";\nimport Scene from \"./Scene\";\n\n\nclass Engine extends Element {\n\n    /* LIFECYCLE */\n\n    /**\n     * @constructor\n     * @param {*} options: options\n     */\n    constructor (options) {\n        super(options);\n\n        /**\n         * Name of the element\n         * @readonly\n         * @type {string}\n         */\n        this.name = \"engine\";\n\n        /**\n         * Global data to store\n         * @type {{}}\n         */\n        this.storage = {};\n\n        /**\n         * List of scenes attached to engine\n         * @type {Array}\n         */\n        this.scenes = [];\n\n        /**\n         * Time since last update\n         * @type {number}\n         */\n        this.lastUpdate = 0;\n\n        /**\n         * Current FPS (Frames per second)\n         * @type {number}\n         */\n        this.fps = 60;\n\n        /**\n         * Current latence between each frame (in ms)\n         * @type {number}\n         */\n        this.latence = 0;\n\n        /**\n         * Current latence between each frame (in second)\n         * @type {number}\n         */\n        this.tick = 1;\n\n        /**\n         * DOM of the engine\n         * @type {null}\n         */\n        this.dom = null;\n\n        /**\n         * Stop the run\n         * @type {boolean}\n         * @readonly\n         */\n        this.stopped = false;\n    }\n\n    /**\n     * Update\n     * @returns {void}\n     */\n    update () {\n        super.update();\n\n        this.scenes.map(scene => scene.update());\n    }\n\n    /**\n     * Render\n     * @param {*=} context: canvas render (Engine has no context, it's only for overriding)\n     * @returns {void}\n     */\n    render (context) {\n        super.render(context);\n\n        this.scenes.map(scene => scene.render(context));\n    }\n\n    /**\n     * @nextCycle\n     * @returns {void}\n     */\n    nextCycle () {\n        this.scenes.forEach(scene => scene.nextCycle());\n    }\n\n    /**\n     * @onPropsChanged\n     * @param {*} changedProps: changed properties\n     * @returns {void}\n     */\n    onPropsChanged (changedProps) {\n        super.onPropsChanged(changedProps);\n\n        if (changedProps.width) {\n            if (this.dom) {\n                this.dom.width = changedProps.width;\n            }\n\n            this.scenes.forEach(scene => {\n                scene.width = changedProps.width;\n            });\n        }\n\n        if (changedProps.height) {\n            if (this.dom) {\n                this.dom.height = changedProps.height;\n            }\n\n            this.scenes.forEach(scene => {\n                scene.height = changedProps.height;\n            });\n        }\n    }\n\n    /**\n     * Run the engine\n     * @param {number=} timeStart: time sended by requestAnimationFrame\n     * @returns {void|null} null\n     */\n    run (timeStart) {\n        if (this.stopped) {\n            return null;\n        }\n\n        timeStart = timeStart || window.performance.now();\n        requestAnimationFrame(this.run.bind(this));\n\n        // 100ms latence max\n        this.latence    = Math.min(timeStart - this.lastUpdate, 100);\n        this.fps        = Math.floor(1000 / this.latence);\n        this.tick       = 1000 / (this.fps * 1000);\n\n        this.update();\n        this.render(null);\n        this.nextCycle();\n\n        this.lastUpdate = window.performance.now();\n    }\n\n    /**\n     * Stop the loop\n     * @returns {void}\n     */\n    stop () {\n        this.stopped    = true;\n        this.tick       = 0;\n    }\n\n    /**\n     * Restart the loop\n     * @returns {void}\n     */\n    restart () {\n        this.stopped    = false;\n        this.run();\n    }\n\n    /**\n     * Attach a scene to current engine\n     * @param {*} scene: the scene to attach to the engine\n     * @returns {Engine} the current engine\n     */\n    attachScene (scene) {\n        if (!scene || (scene && !(scene instanceof Scene))) {\n            throw new Error(\"Engine.attachScene : scene must be an instance of Scene.\");\n        }\n\n        scene.width(this.width());\n        scene.height(this.height());\n\n        this.scenes.push(scene);\n        scene.initialize();\n\n        if (this.dom && scene.isComposedOf(\"canvas\")) {\n            scene.canvas.setParentDOM(this.dom);\n        }\n\n        return this;\n    }\n\n    reorganizeCanvas () {\n\n    }\n\n    /**\n     * Attach a dom to the parent dom passed by parameter\n     * @param {*} parentDOM: the dom to attach the engine\n     * @returns {Engine} : the current Engine\n     */\n    attachDOM (parentDOM) {\n        if (!parentDOM) {\n            throw new Error(\"Engine.initialize : dom must be passed to parameters and must be valid.\");\n        }\n\n        if (!this.dom) {\n            this.dom                = document.createElement(\"div\");\n            this.dom.id             = this.id;\n            this.dom.className      = \"sideral-engine\";\n            this.dom.style.position = \"relative\";\n        }\n\n        parentDOM.appendChild(this.dom);\n\n        this.scenes.forEach((scene) => {\n            if (scene.isComposedOf(\"canvas\")) {\n                scene.canvas.setParentDOM(this.dom);\n            }\n        });\n\n        return this;\n    }\n}\n\n\nexport default new Engine({\n    width : 50,\n    height: 50\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Engine.js","import Class from \"./Class\";\nimport Component from \"./Component\";\n\n\nexport default class Element extends Class {\n\n    /* LIFECYCLE */\n\n    /**\n     * @constructor\n     * @param {{ name: string, components: [], props: {} }} options: options for the element\n     */\n    constructor (options = {}) {\n        super(options);\n\n        /**\n         * Name of the component\n         * @readonly\n         * @type {string}\n         */\n        this.name = \"element\";\n\n        /**\n         * Lifecycle functions enhancement\n         * @type {{}}\n         */\n        this.lifecycle = options;\n\n        /**\n         * Know if the element is destroyed and it is not usable\n         * @readonly\n         * @type {boolean}\n         */\n        this.destroyed = false;\n\n        // Include all components\n        if (options.components && options.components.length) {\n            options.components.forEach(component => this.compose(component));\n        }\n\n        delete this.lifecycle.name;\n        delete this.lifecycle.props;\n        delete this.lifecycle.components;\n    }\n\n    /**\n     * Called when attached to a parent\n     * @initialize\n     * @returns {void}\n     */\n    initialize () {\n        if (this.lifecycle.initialize) {\n            this.lifecycle.initialize.bind(this)();\n        }\n    }\n\n    /**\n     * Remove the element\n     * @destroy\n     * @returns {void}\n     */\n    destroy () {\n        this.destroyed = true;\n        this.components.map(name => this.decompose(name));\n\n        if (this.lifecycle.destroy) {\n            this.lifecycle.destroy.bind(this)();\n        }\n    }\n\n    /**\n     * Actions before update\n     * @beforeUpdate\n     * @returns {void}\n     */\n    beforeUpdate () {\n        if (this.lifecycle.beforeUpdate) {\n            this.lifecycle.beforeUpdate.bind(this)();\n        }\n    }\n\n    /**\n     * Update the element and these components\n     * @update\n     * @returns {void}\n     */\n    update () {\n        this.beforeUpdate();\n        super.update();\n        this.callComponentFunction(\"update\");\n\n        if (this.lifecycle.update) {\n            this.lifecycle.update.bind(this)();\n        }\n    }\n\n    /**\n     * Event fire when properties has changed\n     * @param {*} changedProps: properties that has changed\n     * @returns {void}\n     */\n    onPropsChanged (changedProps) {\n        if (this.lifecycle.onPropsChanged) {\n            this.lifecycle.onPropsChanged.bind(this)(changedProps);\n        }\n    }\n\n    /**\n     * Called only when requestRender is true\n     * @render\n     * @param {*} context: canvas context\n     * @returns {void}\n     */\n    render (context) {\n        this.callComponentFunction(\"render\", context);\n\n        if (this.lifecycle.render) {\n            this.lifecycle.render.bind(this)(context);\n        }\n    }\n\n    /**\n     * Called after every cycle\n     * @nextCycle\n     * @returns {void}\n     */\n    nextCycle () {\n        for (const key in this.previousProps) {\n            if (this.previousProps.hasOwnProperty(key)) {\n                this.previousProps[key] = this[key];\n            }\n        }\n\n        this.requestRender = false;\n    }\n\n    /**\n     * Reset an element\n     * @returns {void}\n     */\n    reset () {\n        this.destroyed = false;\n    }\n\n\n    /* COMPONENTS */\n\n    /**\n     * Add a component into this element\n     * @param {Component} component: The component to be added\n     * @returns {Element} current element\n     */\n    compose (component) {\n        if (!(component instanceof Component)) {\n            throw new Error(\"Element.compose : the component is not an instance of Component.\");\n        }\n\n        component.composedBy = this;\n        this[component.name] = component;\n        this.components.push(component.name);\n        component.initialize();\n\n        return this;\n    }\n\n    /**\n     * Remove a component from the element\n     * @param {string} componentName: The name of the component\n     * @returns {Element} current element\n     */\n    decompose (componentName) {\n        this.components.map((name, index) => {\n            if (name === componentName) {\n                this[name].pluggedFunctions.map((pluggedFunction) => {\n                    if (this.componentFunctions[pluggedFunction]) {\n                        this.componentFunctions[pluggedFunction] = this.componentFunctions[pluggedFunction].filter(compName => compName !== name);\n                    }\n\n                    return null;\n                });\n\n                this.components.splice(index, 1);\n            }\n\n            return null;\n        });\n\n        return this;\n    }\n\n    /**\n     * Return true if the element has the component by its name\n     * @param {string} componentName: The name of the component\n     * @param {function=} callback: function to be executed if element is composed of the component\n     * @returns {boolean|function} the element is composed of the component\n     */\n    isComposedOf (componentName, callback) {\n        const exist = Boolean(this.components.find(component => component === componentName));\n\n        return callback && exist ? callback() : exist;\n    }\n\n    /**\n     * Add a new component function to be executed before the parent function\n     * @param {string} componentName: the name of the component\n     * @param {string} functionName: the name of the function\n     * @returns {void|null} nothing\n     */\n    addComponentFunction (componentName, functionName) {\n        if (!this.isComposedOf(componentName) || !this[functionName]) {\n            return null;\n        }\n\n        if (!this.componentFunctions[functionName]) {\n            this.componentFunctions[functionName] = [];\n        }\n\n        this.componentFunctions[functionName].push(componentName);\n    }\n\n    /**\n     * Call functions of components by name of the function\n     * @param {...*} functionName: the name of the function and other arguments to be transmitted into components\n     * @returns {void}\n     */\n    callComponentFunction (functionName) {\n        if (this.componentFunctions[functionName]) {\n            this.componentFunctions[functionName].map((name) => this[name][functionName](...Array.prototype.slice.call(arguments, 1)));\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Element.js","export default class Class {\n\n    /* LIFECYCLE */\n\n    /**\n     * @constructor\n     * @param {{ name: string, components: [], props: {} }} options: options for the element\n     */\n    constructor (options = {}) {\n\n        /**\n         * Unique id of element\n         * @type {string}\n         */\n        this.id = Class.generateId();\n\n        /**\n         * Name of the class to be recognized\n         * @type {string}\n         */\n        this.name = \"class\";\n\n        /**\n         * Props before update\n         * @type {{}} properties\n         */\n        this.previousProps = Object.assign({}, options.props);\n\n        // Add default props\n        this.props(this.previousProps);\n    }\n\n    /**\n     * Initialization of the element after it is created into the engine\n     * @initialize\n     * @returns {void}\n     */\n    initialize () { }\n\n    /**\n     * Update lifecycle\n     * @update\n     * @returns {void}\n     */\n    update () {\n        const changedProps = {};\n\n        for (const key in this.previousProps) {\n            if (this.previousProps.hasOwnProperty(key) && this[key] !== this[key]) {\n                changedProps[key] = this[key];\n                this.requestRender = true;\n            }\n        }\n\n        if (this.requestRender) {\n            this.onPropsChanged(changedProps);\n        }\n    }\n\n    /*eslint-disable*/\n    /**\n     * called when props has changed\n     * @param {*} changedProps: changed properties\n     * @return {void}\n     */\n    onPropsChanged (changedProps) { }\n    /*eslint-enable*/\n\n    /* METHODS */\n\n    /**\n     * Set attributes to current instance\n     * @param {*} props: properties to merge\n     * @returns {*} SideralClass: current instance\n     */\n    props (props = {}) {\n        for (const key in props) {\n            if (props.hasOwnProperty(key)) {\n                this[key] = props[key];\n            }\n        }\n\n        return this;\n    }\n\n    /* STATICS */\n\n    /**\n     * Generate an unique id\n     * @returns {string} return the unique id\n     */\n    static generateId () {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).\n        substring(1);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Class.js","import Class from \"./../Class\";\n\n\nexport default class Component extends Class {\n\n    /* LIFECYCLE */\n\n    /**\n     * @constructor\n     */\n    constructor () {\n        super();\n\n        /**\n         * Name of the component\n         * @readonly\n         * @type {string}\n         */\n        this.name = \"component\";\n\n        /**\n         * Element which using this component\n         * @type {Element}\n         */\n        this.composedBy = null;\n\n        /**\n         * List of all functions plugged to the parent\n         * @type {Array}\n         */\n        this.pluggedFunctions = [];\n    }\n\n    /**\n     * Initialization of the component after it is composed\n     * @returns {void}\n     */\n    initialize () {\n        if (!this.composedBy) {\n            throw new Error(\"Component.initialize : A Component must be composed by an element before calling Initiliaze.\");\n        }\n\n        const functions = Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(prop => prop !== \"constructor\" && prop !== \"initialize\");\n\n        this.pluggedFunctions = [];\n\n        functions.map((key) => {\n            if (this.composedBy[key]) {\n                this.composedBy.addComponentFunction(this.name, key);\n                this.pluggedFunctions.push(key);\n            }\n\n            return null;\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Component/index.js","import Element from \"../Element\";\nimport Entity from \"../Entity\";\nimport Canvas from \"../Component/Canvas\";\n\n\nexport default class Scene extends Element {\n\n    /* LIFECYCLE */\n\n    /**\n     * @constructor\n     * @param {*} options: options\n     */\n    constructor (options = {}) {\n        super(options);\n\n        /**\n         * Name of the element\n         * @readonly\n         * @type {string}\n         */\n        this.name = \"scene\";\n\n        /**\n         * List of entities\n         * @type {Array<Entity>}\n         */\n        this.entities = [];\n\n        /**\n         * Gravity of the scene\n         * @type {number}\n         */\n        this.gravity = options.gravity || 0;\n\n        /**\n         * Scale of all entities behind this scene\n         * @type {number}\n         */\n        this.scale = options.scale || 1;\n\n        /**\n         * Position of the camera\n         * @type {{x: number, y: number, follow: Entity|null}}\n         */\n        this.camera = {x: 0, y: 0, following: null};\n    }\n\n    /**\n     * Initialization\n     * @returns {void}\n     */\n    initialize () {\n        super.initialize();\n\n        this.compose(new Canvas(this.width(), this.height()));\n    }\n\n    /**\n     * Update\n     * @returns {void}\n     */\n    update () {\n        super.update();\n\n        if (this.camera.follow) {\n            this.camera.x = this.camera.follow.x() + (this.camera.follow.width() * this.scale / 2) - (this.width() / 2 / this.scale);\n            this.camera.y = this.camera.follow.y() + (this.camera.follow.height() * this.scale / 2) - (this.height() / 2 / this.scale);\n        }\n\n        this.entities.map(entity => entity.update());\n    }\n\n    /**\n     * @onPropsChanged\n     * @param {*} changedProps: changed properties\n     * @returns {void}\n     */\n    onPropsChanged (changedProps) {\n        super.onPropsChanged(changedProps);\n\n        if (this.isComposedOf(\"canvas\")) {\n            if (changedProps.width) {\n                this.canvas.width = changedProps.width;\n            }\n\n            if (changedProps.height) {\n                this.canvas.height = changedProps.height;\n            }\n        }\n    }\n\n    /**\n     * Render\n     * @param {*} context: context of the canvas (created inside this function)\n     * @returns {void}\n     */\n    render (context) {\n        context = this.canvas.context;\n        super.render(context);\n\n        this.entities.filter(x => x.requestRender).map(entity => entity.render(context));\n    }\n\n    /**\n     * @nextCycle\n     * @returns {void}\n     */\n    nextCycle () {\n        super.nextCycle();\n\n        this.entities.forEach(entity => entity.nextCycle());\n    }\n\n    /* METHODS */\n\n    /**\n     * Attach an entity to the scene\n     * @param {Entity} entity: entity to attach\n     * @returns {Scene} current instance\n     */\n    attachEntity (entity) {\n        if (!entity || (entity && !(entity instanceof Entity))) {\n            throw new Error(\"Scene.attachEntity : entity must be an instance of Entity\");\n        }\n\n        this.entities.push(entity);\n        entity.scene = this;\n        entity.initialize();\n\n        return this;\n    }\n\n    /* GETTERS & SETTERS */\n\n    /**\n     * Get or set the width\n     * @param {number=} width: if exist, width will be setted\n     * @returns {number} the current width\n     */\n    width (width) {\n        if (typeof width !== \"undefined\") {\n            if (this.isComposedOf(\"canvas\")) {\n                this.canvas.width(width);\n            }\n        }\n\n        return super.width(width);\n    }\n\n    /**\n     * Get or set the height\n     * @param {number=} height: if exist, height will be setted\n     * @returns {number} the current height\n     */\n    height (height) {\n        if (typeof height !== \"undefined\") {\n            if (this.isComposedOf(\"canvas\")) {\n                this.canvas.height(height);\n            }\n        }\n\n        return super.height(height);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Scene/index.js","import Element from \"./../Element\";\nimport Engine from \"./../Engine\";\n\n\nexport default class Entity extends Element {\n\n    /* LIFECYCLE */\n\n    /**\n     * @constructor\n     * @param {*} options: options\n     */\n    constructor (options) {\n        super(options);\n\n        /**\n         * Name of the element\n         * @readonly\n         * @type {string}\n         */\n        this.name = \"entity\";\n\n        /**\n         * Show more information about entity on screen\n         * @type {boolean}\n         */\n        this.debug = options.debug;\n\n        /**\n         * Position on x axis\n         * @type {number}\n         */\n        this.x = options.x || 0;\n\n        /**\n         * Position on y axis\n         * @type {number}\n         */\n        this.y = options.y || 0;\n\n        /**\n         * Width of entity\n         * @type {number}\n         */\n        this.width = options.width || 10;\n\n        /**\n         * Height of entity\n         * @type {number}\n         */\n        this.height = options.height || 10;\n\n        /**\n         * Mass of the entity (used for collision)\n         * @type {string}\n         */\n        this.mass = options.mass || Entity.MASS.NONE;\n\n        /**\n         * Direction movement of the entity\n         * @type {{x: number, y: number}}\n         */\n        this.direction = options.direction || {x: 0, y: 0};\n\n        /**\n         * Speed movement of the entity\n         * @type {{x: number, y: number}}\n         */\n        this.speed = options.speed || {x: 100, y: 100};\n\n        /**\n         * Velocity of the entity\n         * @type {{x: number, y: number}}\n         * @readonly\n         */\n        this.velocity = options.velocity || {x: 0, y: 0};\n\n        /**\n         * Factor of scene gravity\n         * @type {number}\n         */\n        this.gravityFactor = options.gravityFactor || 1;\n\n        /**\n         * Reference to the current scene\n         * @readonly\n         * @type {*}\n         */\n        this.scene = null;\n\n        /**\n         * Know if the entity is standing on a ground (or over an entity)\n         * @type {boolean}\n         * @readonly\n         */\n        this.standing = false;\n\n        /**\n         * Know if the entity is falling (used with gravity)\n         * @type {boolean}\n         * @readonly\n         */\n        this.falling = false;\n    }\n\n    /**\n     * @beforeUpdate\n     * @returns {void}\n     */\n    beforeUpdate () {\n        super.beforeUpdate();\n\n        if (this.direction.x) {\n            this.velocity.x = this.speed.x * this.direction.x * Engine.tick;\n            this.x += this.velocity.x;\n        }\n\n        this.velocity.y = this.scene && this.scene.gravity && this.gravityFactor ? this.scene.gravity * this.gravityFactor * Engine.tick : 0;\n        if (this.velocity.y || this.direction.y) {\n            this.velocity.y += this.speed.y * this.direction.y * Engine.tick;\n            this.y += this.velocity.y;\n        }\n    }\n\n    /**\n     * Render\n     * @param {*} context: canvas context\n     * @returns {void}\n     */\n    render (context) {\n        super.render(context);\n\n        if (this.debug) {\n            context.strokeStyle = \"rgb(255, 0, 0)\";\n            context.strokeRect(this.x - this.scene.camera.x, this.y - this.scene.camera.y, this.width, this.height);\n        }\n    }\n\n    /* METHODS */\n\n    /**\n     * Get distance between this entity and an other\n     * @param {Entity} entity: entity target\n     * @returns {number} distance from entity target\n     */\n    distanceTo (entity) {\n        if (!entity) {\n            return 0;\n        }\n\n        const x = (this.x + (this.width / 2)) - (entity.x + (entity.width / 2)),\n            y   = (this.y + (this.height / 2)) - (entity.y + (entity.height / 2));\n\n        return Math.sqrt((x * x) + (y * y));\n    }\n\n    /**\n     * Compare coordinate to another entity to provide a coordinate direction\n     * @param {Entity} entity: entity to compare\n     * @returns {{x: number, y: number}} coordinate direction\n     */\n    directionTo (entity) {\n        const bottom    = this.y + this.height,\n            right       = this.x + this.width,\n            entBottom   = entity.y + entity.height,\n            entRight    = entity.x + entity.width,\n            colBottom   = entBottom - this.y,\n            colTop      = bottom - entity.y,\n            colLeft     = right - entity.x,\n            colRight    = entRight - this.x;\n\n        if (colTop < colBottom && colTop < colLeft && colTop < colRight) {\n            return {x: 0, y: 1};\n\n        } else if (colBottom < colTop && colBottom < colLeft && colBottom < colRight) {\n            return {x: 0, y: -1};\n\n        } else if (colLeft < colRight && colLeft < colTop && colLeft < colBottom) {\n            return {x: 1, y: 0};\n\n        } else if (colRight < colLeft && colRight < colTop && colRight < colBottom) {\n            return {x: -1, y: 0};\n\n        }\n\n        return {x: 0, y: 0};\n    }\n\n    /**\n     * Know if the target entity and the current entity is intersecting\n     * @param {Entity} entity: entity to compare\n     * @returns {boolean} true if the entity intersect the entity target\n     */\n    intersect (entity) {\n        return !(entity.x > (this.x + this.width) ||\n        (entity.x + entity.width) < this.x ||\n        entity.y > (this.y + this.height) ||\n        (entity.x + entity.height) < this.y);\n    }\n\n    /**\n     * Get position x relative\n     * @returns {number} the current relative position x\n     */\n    relativeX () {\n        return this.scene ? this.x - this.scene.camera.x : this.x;\n    }\n\n    /**\n     * Get position y relative\n     * @returns {number} the current relative position y\n     */\n    relativeY () {\n        return this.scene ? this.y - this.scene.camera.y : this.y;\n    }\n\n    /* GETTERS & SETTERS */\n\n    get moving () {\n        return this.direction.x || this.direction.y;\n    }\n}\n\nEntity.MASS = {\n    SOLID: \"solid\",\n    WEAK: \"weak\",\n    NONE: \"none\"\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Entity/index.js","import Component from \"./index\";\n\n\nexport default class Canvas extends Component {\n\n    /* LIFECYCLE */\n    /**\n     * Canvas constructor\n     * @constructor\n     * @param {*} options: options\n     */\n    constructor (options = {}) {\n        super(options);\n\n        /**\n         * Name of the element\n         * @readonly\n         * @type {string}\n         */\n        this.name = \"canvas\";\n\n        /**\n         * DOM parent of the canvas\n         */\n        this.parentDOM = options.parentDOM;\n\n        /**\n         * Dom of the canvas\n         * @type {*}\n         */\n        this.dom = null;\n\n        /**\n         * Context of the canvas\n         * @type {*}\n         */\n        this.context = null;\n\n        /**\n         * Color of canvas when it is cleared\n         * @type {string}\n         */\n        this.clearColor = null;\n\n        /**\n         * Width of the canvas\n         * @type {number}\n         */\n        this.width = options.width;\n\n        /**\n         * Height of the canvas\n         * @type {number}\n         */\n        this.height = options.height;\n    }\n\n    /**\n     * @initialize\n     * @returns {void}\n     */\n    initialize () {\n        super.initialize();\n\n        this.dom        = document.createElement(\"canvas\");\n        this.dom.id     = this.id;\n        this.dom.width  = this.width;\n        this.dom.height = this.height;\n        this.context    = this.dom.getContext(\"2d\");\n\n        this.setParentDOM();\n    }\n\n    /**\n     * @onPropsChanged\n     * @param {*} changedProps: changed properties\n     * @returns {void}\n     */\n    onPropsChanged (changedProps) {\n        super.onPropsChanged(changedProps);\n\n        if (this.dom) {\n            if (changedProps.width) {\n                this.dom.width = changedProps.width;\n            }\n\n            if (changedProps.height) {\n                this.dom.height = changedProps.height;\n            }\n        }\n    }\n\n    /* METHODS */\n\n    /**\n     * Attach the canvas to the parent DOM\n     * @param {*=} dom: dom to attach the canvas\n     * @returns {void|null} null\n     */\n    setParentDOM (dom) {\n        dom = dom || this.parentDOM;\n\n        if (!dom || !this.dom) {\n            return null;\n        }\n\n        this.parentDOM = dom;\n        this.parentDOM.appendChild(this.dom);\n    }\n\n    /**\n     * Clear the canvas\n     * @param {string=} clearColor: color of the canvas when it will be cleared\n     * @returns {void}\n     */\n    clear (clearColor) {\n        const ctx = this.context;\n\n        ctx.clearRect(0, 0, this.width, this.height);\n\n        if (clearColor || this.clearColor) {\n            ctx.fillStyle = clearColor || this.clearColor;\n            ctx.fillRect(0, 0, this.width, this.height);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Component/Canvas.js","import Component from \"./index\";\n\n\nexport default class Keyboard extends Component {\n\n    /* LIFECYCLE */\n\n    /**\n     * @constructor\n     * @param {*} options: options\n     */\n    constructor (options) {\n        super(options);\n\n        /**\n         * The name of the component\n         * @readonly\n         * @type {string}\n         */\n        this.name = \"keyboard\";\n\n        /**\n         * Public input attributes\n         * @type {{}}\n         */\n        this.input = {};\n\n        /**\n         * Private input attributes, do not use it\n         * @type {{}}\n         * @private\n         */\n        this._input = {};\n    }\n\n    /**\n     * @initialize\n     * @returns {void}\n     */\n    initialize () {\n        super.initialize();\n\n        window.addEventListener(\"keydown\", this.onKeydown.bind(this));\n        window.addEventListener(\"keyup\", this.onKeyup.bind(this));\n    }\n\n    /**\n     * @update\n     * @returns {void}\n     */\n    update () {\n        super.update();\n\n        for (const key in this._input) {\n            if (!this._input.hasOwnProperty(key)) {\n                continue;\n            }\n\n            const input = this.input[key],\n                _input = this._input[key];\n\n            // Pressed\n            if (_input === this.STATE.PRESSED) {\n                if (input === _input) {\n                    this.input[key] = this.STATE.HOLD;\n\n                } else if (input !== this.STATE.HOLD) {\n                    this.input[key] = this.STATE.PRESSED;\n                }\n\n            // Released\n            } else if (_input === this.STATE.RELEASED) {\n                if (!input) {\n                    this.input[key] = this.STATE.PRESSED;\n\n                } else if (input === _input) {\n                    delete this.input[key];\n                    delete this._input[key];\n\n                } else {\n                    this.input[key] = this.STATE.RELEASED;\n                }\n\n            }\n        }\n    }\n\n    /* METHODS */\n\n    /**\n     * event on keydown\n     * @event keydown\n     * @param {*} e: event\n     * @returns {void}\n     */\n    onKeydown (e) {\n        this._input[e.keyCode] = this.STATE.PRESSED;\n    }\n\n    /**\n     * event on keyup\n     * @event keyup\n     * @param {*} e: event\n     * @returns {void}\n     */\n    onKeyup (e) {\n        this._input[e.keyCode] = this.STATE.RELEASED;\n    }\n\n    /**\n     * Get current state of a key\n     * @param {string} key: keyboard key\n     * @param {string} state: state of input\n     * @param {*} optionalState: other state\n     * @returns {boolean} the state is corresponding to state param\n     */\n    getKeyState (key, state, optionalState = null) {\n        const input = this.input[typeof key === \"string\" ? this.KEY[key] : key];\n\n        if (input && optionalState) {\n            return input === this.STATE[state] || input === this.STATE[optionalState];\n        }\n\n        return input ? input === this.STATE[state] : false;\n    }\n\n    /**\n     * Know if a key is pressed\n     * @param {string} key: keyboard key\n     * @returns {boolean} the key is pressed\n     */\n    isPressed (key) {\n        return this.getKeyState(key, \"PRESSED\");\n    }\n\n    /**\n     * Know if a key is held\n     * @param {string} key: keyboard key\n     * @returns {boolean} the key is held\n     */\n    isHeld (key) {\n        return this.getKeyState(key, \"PRESSED\", \"HOLD\");\n    }\n\n    /**\n     * Know if a key is released\n     * @param {string} key: keyboard key\n     * @returns {boolean} the key is released\n     */\n    isReleased (key) {\n        return this.getKeyState(key, \"RELEASED\");\n    }\n\n    /* GETTERS & SETTERS */\n\n    /**\n     * List of all key usable\n     * @type {*}\n     */\n    get KEY () {\n        return {\n            \"BACKSPACE\": 8,\n            \"TAB\": 9,\n            \"ENTER\": 13,\n            \"PAUSE\": 19,\n            \"CAPS\": 20,\n            \"ESC\": 27,\n            \"SPACE\": 32,\n            \"PAGE_UP\": 33,\n            \"PAGE_DOWN\": 34,\n            \"END\": 35,\n            \"HOME\": 36,\n            \"ARROW_LEFT\": 37,\n            \"ARROW_UP\": 38,\n            \"ARROW_RIGHT\": 39,\n            \"ARROW_DOWN\": 40,\n            \"INSERT\": 45,\n            \"DELETE\": 46,\n            \"NUM_0\": 48,\n            \"NUM_1\": 49,\n            \"NUM_2\": 50,\n            \"NUM_3\": 51,\n            \"NUM_4\": 52,\n            \"NUM_5\": 53,\n            \"NUM_6\": 54,\n            \"NUM_7\": 55,\n            \"NUM_8\": 56,\n            \"NUM_9\": 57,\n            \"A\": 65,\n            \"B\": 66,\n            \"C\": 67,\n            \"D\": 68,\n            \"E\": 69,\n            \"F\": 70,\n            \"G\": 71,\n            \"H\": 72,\n            \"I\": 73,\n            \"J\": 74,\n            \"K\": 75,\n            \"L\": 76,\n            \"M\": 77,\n            \"N\": 78,\n            \"O\": 79,\n            \"P\": 80,\n            \"Q\": 81,\n            \"R\": 82,\n            \"S\": 83,\n            \"T\": 84,\n            \"U\": 85,\n            \"V\": 86,\n            \"W\": 87,\n            \"X\": 88,\n            \"Y\": 89,\n            \"Z\": 90,\n            \"NUMPAD_0\": 96,\n            \"NUMPAD_1\": 97,\n            \"NUMPAD_2\": 98,\n            \"NUMPAD_3\": 99,\n            \"NUMPAD_4\": 100,\n            \"NUMPAD_5\": 101,\n            \"NUMPAD_6\": 102,\n            \"NUMPAD_7\": 103,\n            \"NUMPAD_8\": 104,\n            \"NUMPAD_9\": 105,\n            \"MULTIPLY\": 106,\n            \"ADD\": 107,\n            \"SUBSTRACT\": 109,\n            \"DECIMAL\": 110,\n            \"DIVIDE\": 111,\n            \"F1\": 112,\n            \"F2\": 113,\n            \"F3\": 114,\n            \"F4\": 115,\n            \"F5\": 116,\n            \"F6\": 117,\n            \"F7\": 118,\n            \"F8\": 119,\n            \"F9\": 120,\n            \"F10\": 121,\n            \"F11\": 122,\n            \"F12\": 123,\n            \"SHIFT\": 16,\n            \"CTRL\": 17,\n            \"ALT\": 18,\n            \"PLUS\": 187,\n            \"COMMA\": 188,\n            \"MINUS\": 189,\n            \"PERIOD\": 190\n        };\n    }\n\n    /**\n     * List of key state\n     * @type {{}}\n     */\n    get STATE () {\n        return {\n            PRESSED: \"pressed\",\n            RELEASED: \"released\",\n            HOLD: \"hold\"\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Component/Keyboard.js","import Entity from \"src/Entity\";\nimport Engine from \"src/Engine\";\n\n\nexport default (props = {}) => new Entity({\n    components: [],\n\n    props: Object.assign({\n        width   : 20,\n        height  : 20,\n        debug   : true\n    }, props),\n\n    beforeUpdate () {\n        if (Engine.keyboard.isHeld(Engine.keyboard.KEY.ARROW_RIGHT)) {\n            this.x += 10;\n\n        } else if (Engine.keyboard.isHeld(Engine.keyboard.KEY.ARROW_LEFT)) {\n            this.x -= 10;\n\n        } else if (Engine.keyboard.isHeld(Engine.keyboard.KEY.ARROW_UP)) {\n            this.y -= 10;\n\n        } else if (Engine.keyboard.isHeld(Engine.keyboard.KEY.ARROW_DOWN)) {\n            this.y += 10;\n\n        }\n    }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./public/projects/escapethefate/src/entities/EntityPlayer.js"],"sourceRoot":""}